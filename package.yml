name       : intel-compute-runtime
version    : 21.48.21782
release    : 5
source     :
    - https://github.com/intel/compute-runtime/archive/refs/tags/21.48.21782.tar.gz : 7e696e19099116875c3a61c7f70c8570e93921c274d20730854cdb54e688180e
license    : MIT
component  : programming.tools
homepage   : https://github.com/intel/compute-runtime/
summary    : Intel® Graphics Compute Runtime for oneAPI Level Zero and OpenCL™ Driver
description: |
    The Intel(R) Graphics Compute Runtime for oneAPI Level Zero and OpenCL(TM) Driver is an open source project providing compute API support (Level Zero, OpenCL) for Intel graphics hardware architectures (HD Graphics, Xe).
replaces   :
    - beignet
builddeps  :
    - pkgconfig(igdgmm)
    - pkgconfig(igc-opencl)
    - pkgconfig(libva)
    - pkgconfig(libze_loader)
    - igsc-devel
    - git
rundeps    :
    - intel-graphics-compiler
libsplit   : no
setup      : |
    # disable warnings as errors
    sed -i 's|-Werror||g' CMakeLists.txt
    %cmake_ninja \
        -DSKIP_UNIT_TESTS=ON \
        -DSUPPORT_DG1=ON \
        -DOCL_ICD_VENDORDIR=/usr/share/OpenCL/vendors \
        -DNEO_SKIP_UNIT_TESTS=1
build      : |
    %ninja_build
install    : |
    %ninja_install

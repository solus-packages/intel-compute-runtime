name       : intel-compute-runtime
version    : 21.11.19310
release    : 2
source     :
    - https://github.com/intel/compute-runtime/archive/refs/tags/21.11.19310.tar.gz : 81ad742cb3f6990cc9b44356742f955587219f64920313e066f4b4c2a47d6def
license    : MIT
component  : programming.tools
homepage   : https://github.com/intel/compute-runtime/
summary    : Intel® Graphics Compute Runtime for oneAPI Level Zero and OpenCL™ Driver
description: |
    The Intel(R) Graphics Compute Runtime for oneAPI Level Zero and OpenCL(TM) Driver is an open source project providing compute API support (Level Zero, OpenCL) for Intel graphics hardware architectures (HD Graphics, Xe).
replaces   :
    - beignet
builddeps  :
    - pkgconfig(igdgmm)
    - pkgconfig(igc-opencl)
    - pkgconfig(libva)
    - pkgconfig(libze_loader)
libsplit   : no
setup      : |
    # disable warnings as errors
    sed -i 's|-Werror||g' CMakeLists.txt
    %cmake_ninja \
        -DSKIP_UNIT_TESTS=ON \
        -DOCL_ICD_VENDORDIR=/usr/share/OpenCL/vendors
build      : |
    %ninja_build
install    : |
    %ninja_install
